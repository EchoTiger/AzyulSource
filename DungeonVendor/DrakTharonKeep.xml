<If Condition="Me.FreeBagSlots &lt; 17" >
	<CustomBehavior File="RunCode" Code="Bots.Professionbuddy.PBLog.Log(System.Windows.Media.Colors.DeepSkyBlue, &quot;[Azyul]: &quot;, System.Windows.Media.Colors.LightGreen, &quot;Moving to Sell, Repair and Mail.&quot;);" />
	<If Condition="Me.Location.Distance(new WoWPoint(4775.771, -2045.906, 229.4198)) &lt;= 150" > <!-- If just came out instance -->
		<MoveTo X="4781.665" Y="-2042.948" Z="229.428" />
		<MoveTo X="4844.876" Y="-2034.98" Z="250.072" />
		<MoveTo X="4884.797" Y="-2036.033" Z="250.0502" />
		<CustomBehavior File="MyCTM" X="4895.741" Y="-2039.486" Z="248.3093" />
	</If>

	<If Condition="Me.FreeBagSlots &lt; 17" >
		<MoveTo Nav="Fly" X="5405.227" Y="-2655.048" Z="303.9551" />

		<CustomBehavior File="InteractWith" MobId="28796" MobState="Alive" WaitTime="1000" X="5410.7" Y="-2658.249" Z="303.9539" />
		<CustomBehavior File="RunCode" >
		<![CDATA[
			foreach (WoWItem i in Me.BagItems)
			{
				if (i != null && i.Entry != 6948 && !Contains(ProtectedItems, i.Name) && !Contains(DepositItems, i.Name) && !Me.Combat && !Me.IsDead && !Me.IsGhost && MerchantFrame.Instance.IsVisible)
					i.UseContainerItem();
					await CommonCoroutines.SleepForRandomReactionTime();
			}
			MerchantFrame.RepairAllItems;
		]]>
		</CustomBehavior>

		<MoveTo X="5416.015" Y="-2622.577" Z="306.9517" />
		<SetMailbox>
			<Mailboxes>
				<Mailbox X="5417.155" Y="-2620.26" Z="307.0088" />
			</Mailboxes>
		</SetMailbox>
		<CustomBehavior File="ForceSetVendor" DoMail="True" />
		<RunTo X="5396.842" Y="-2617.582" Z="303.9539" />
		<ClearMailbox />
		<MoveTo Nav="Fly" X="5377.773" Y="-2611.433" Z="321.3243" />
	</If>
</If>